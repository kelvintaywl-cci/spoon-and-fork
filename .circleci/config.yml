version: 2.1

jobs:
  checkout-org-context:
    docker:
      - image: cimg/base:stable
    resource_class:
    steps:
      - checkout
      - run: |
          # ktwl41 is no longer part of kelvintay-cci/chef GitHub team
          # but ktwl41 is also following the kelvintaywl-cci/spoon-and-fork original repo
          # GitHub reported the team member removal can take 24 hrs to take effect though
          # Refreshed ktwl41 permissions on CircleCI just in case.
          echo "this should not run!"
          
      - run: |
          # check out the org context!
          # should print 'spoon'
          printenv FORK

workflows:
  main:
    jobs:
      - checkout-org-context:
          context:
            # this org context is available for kelvintaywl-cci/chef team
            - spoon-and-fork
